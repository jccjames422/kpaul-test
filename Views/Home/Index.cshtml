@model List<InternTest.ViewModels.StudentViewModel>
@{
    ViewBag.Title = "Student Page";
}

<style>
    .pager-nav {
        margin: 16px 0;
    }

        .pager-nav span {
            display: inline-block;
            padding: 4px 8px;
            margin: 1px;
            cursor: pointer;
            font-size: 14px;
            background-color: #FFFFFF;
            border: 1px solid #e1e1e1;
            border-radius: 3px;
            box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
        }

            .pager-nav span:hover,
            .pager-nav .pg-selected {
                background-color: lightseagreen;
                border: 1px solid #CCCCCC;
                color: white;
            }
</style>



<div style="padding-left: 2%;padding-right: 2%;">
    <button class="btn btn-primary float-end" type="button" data-bs-toggle="modal" data-bs-target="#addModal" onclick="location.href='@Url.Action("Add", "Home", new {})'">Add Student</button>
</div>

<br />
<br />
<br />



    <table id="pager" class="table table-bordered">
        <thread>
            <tr>
                <th>
                    First Name
                </th>
                <th>
                    Last Name
                </th>
                <th>
                    Feild
                </th>
                <th>
                    Age
                </th>
                <th>
                    Delete
                </th>
            </tr>
        </thread>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.FirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LastName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Field)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Age)
                </td>
                <td>
                    <a style="text-decoration: none; color: red;" onclick="deleteUser(`@item.FirstName`, `@item.LastName`, `@item.Field`, `@item.Age`)">DELETE</a>
                </td>
            </tr>
        }

    </table>
</div>

    <script type="text/javascript">
    function deleteUser(first, last, field, age) {
        $.ajax({
            type: 'POST',
            url: '/Home/DeleteUser',
            data: '{first: "' + first + '",last: "' + last + '",field: "' + field + '",age: "' + age + '" }',
            contentType: "application/json; charset=utf-8",
            dataType: "html",
            success: function (response) {
                $("#deleteModal").find(".modal-body").html(response);
                $("#deleteModal").modal('show');
            },
            failure: function (response) {
                alert(response.responseText);
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    }




        //function editUser(first, last, field, age) {
        //    $.ajax({
        //        type: 'POST',
        //        url: '/Home/EditUser',
        //        data: '{first: "' + first + '",last: "' + last + '",field: "' + field + '",age: "' + age + '" }',
        //        contentType: "application/json; charset=utf-8",
        //        dataType: "html",
        //        success: function (response) {
        //            $("#deleteModal").find(".modal-body").html(response);
        //            $("#deleteModal").modal('show');
        //        },
        //        failure: function (response) {
        //            alert(response.responseText);
        //        },
        //        error: function (response) {
        //            alert(response.responseText);
        //        }
        //    });
        //}
</script>
